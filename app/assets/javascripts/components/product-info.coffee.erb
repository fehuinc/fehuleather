angular.module "ProductInfo", []

.directive "productInfo", new Array "Cart", (Cart)->
  templateUrl: "<%= asset_path('components/product-info.html') %>"
  link: (scope)->
    
    scope.addToCart = (product)->
      Cart.add(product)
    
    scope.showInfo = (info)->
      if info != scope.showingInfo
        scope.showingInfo = info
      else
        scope.showingInfo = null
      
